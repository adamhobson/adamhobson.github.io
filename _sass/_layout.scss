/* Site Header
 *****************************************************************************/
header.masthead {
    height: $vertical-unit * 3;
    margin: 0 $horizontal-unit * 3;
    overflow: hidden;
    position: relative;
    
    h1 {
        float: left;
        margin: 0;
        text-transform: uppercase;
        line-height: $vertical-unit * 3;
        font-size: $base-font-size * 2;
        
        a {
            color: $text-color;

            &:active,
            &:hover {
                color: $brand-color-dark;

                .icon-adam-hobson {
                    animation-name: rotate;
                    animation-duration: 30s;
                    animation-iteration-count: infinite;
                    transform-origin: 50% 50%;
                }
                @keyframes rotate {
                    0% {
                        transform: rotate(0deg);
                    }
                    100% {
                        transform: rotate(360deg);
                    }
                }
            }
        }        
    }
    
    span {
        vertical-align: middle;
    }

    .icon-adam-hobson {
        font-size: $base-font-size * 3;
    }

    .first {
        @include modern-type;
    }
    
    h2 {
        position: absolute;
        top: $vertical-unit;
        right: 0;
        @include modern-type;
        font-size: $base-font-size;

        @media screen and (min-width: $horizontal-unit * 38) {
            left: $horizontal-unit * 23;
        }

        @media screen and (max-width: $horizontal-unit * 23) {
            top: 54px;
            left: 49px;
            font-size: 15px;
        }
    }
}

/* Site Navigation
 *****************************************************************************/
nav.site {
    padding: $vertical-unit $horizontal-unit * 3 0;
    background-color: $grey-color;
    background-image:
      linear-gradient(
        to top right, 
        $grey-color, lighten($grey-color, 10%)
      );
    overflow: hidden;
    clear: both;
    
    a {
        color: $background-color;

        &:active,
        &:hover {
            color: $grey-color-light;
        }
    }
}

@media screen and (min-width: $horizontal-unit * 32) {
    .home {
        nav.site {
            width: $horizontal-unit * 4;
            padding: $vertical-unit 0;
            background-color: $background-color;
            background-image: none;
            clear: none;
                
            a {
                color: $text-color;

                &:active,
                &:hover {
                    color: $brand-color;
                }
            }
        }
    }
}

.pages,
.categories {
    width: $horizontal-unit * 4;
    margin-right: $horizontal-unit;
    float: left;
    @include modern-type;
}

.social {
    float: left;
    font-size: $vertical-unit * 3;

    li {
        width: $horizontal-unit * 3;
        float: left;
        overflow: hidden;
    }   
}

/* Site Footer
 *****************************************************************************/
footer.footer {
    height: $vertical-unit * 2;
    padding: 0 $horizontal-unit * 3;
    line-height: $vertical-unit * 2;
    clear: both;
    background-color: $grey-color-dark;
    font-family: $sans-font-family;
    font-weight: 900;
    
    a {
        color: $grey-color-light;
        
        &:active,
        &:hover {
            color: $background-color;
        }
    }
}

.copyright {
    float: left;
}

.feeds {
    float: right;
}

/* Post(s)
 *****************************************************************************/
article {
    margin-bottom: $vertical-unit;

    .category,
    time {
        @include modern-type;
    }
            
    h1 em {
        font-style: normal;
        font-weight: 300;
    }

    img.thumb {
        height: $vertical-unit * 5;
        width: $horizontal-unit * 4;
        float: left;
        margin-right: $horizontal-unit / 2;
    }

    footer {
        margin: $vertical-unit * 2 0;
        overflow: hidden;
        clear: both;

        h2 {
            @include modern-type;
        }
    }
}

.long-summary {
    clear: both;
    overflow: hidden;
}

.short-summary {
    width: 100%;
    line-height: $base-font-size;
    margin: 0 $horizontal-unit / -2;
    padding: $vertical-unit / 2 $horizontal-unit / 2;
    overflow: hidden;
    transition: all ease-in-out 0.3s;


    a {
        color: $text-color;
        transition: all ease-in-out 0.3s;
    }

    h1 {
        margin-bottom: 0;
        overflow: hidden;
        font-size: $base-font-size;
    }

    .category,
    time {
        font-size: $small-font-size;
    }

    img.thumb {
        height: $vertical-unit * 2;
        width: $vertical-unit * 2;
        margin-right: $vertical-unit / 2;
        }

    &:hover {
        background-color: #f5f5f5;

        a {
            color: $brand-color;

            &:active,
            &:hover {
                color: $brand-color-dark;
            }
        }
    }

    @media screen and (min-width: $horizontal-unit * 27) {
        width: calc(50% - #{$horizontal-unit / 2});
        height: $vertical-unit * 3;
        float: left;

        &:nth-child(odd) {
            margin-left: 0;
        }

        &:nth-child(even) {
            margin-right: 0;
        }
    }
}

.read-more {
    @include modern-type;
    white-space: nowrap;
}

.more-posts {
    font-family: $sans-font-family;
    font-weight: 900;
    letter-spacing: 1px;
}

/* Post Body
 *****************************************************************************/
.body {
    a {
        border-bottom: 1px solid transparent;

        &:active,
        &:hover {
            border-color: $brand-color-dark;
        }
    }
    
    ol,
    ul {
        margin-left: $horizontal-unit;
    }

    ul {
        list-style: square;
    }

    figure {
        text-align: center;

        &.center {
            margin: 0 auto $vertical-unit;
            float: none;
            clear: both;
        }

        &.left {
            margin-right: $horizontal-unit;
            float: left;
            clear: left;
        
            @media screen and (min-width: $horizontal-unit * 32) {
                margin-left: $horizontal-unit * -3;
            }
        }

        &.right {
            margin-left: $horizontal-unit;
            float: right;
            clear: right;

            @media screen and (min-width: $horizontal-unit * 32) {
                margin-right: $horizontal-unit * -3;
            }
        }
    }
}

.callout {
    margin-bottom: $vertical-unit;
    padding: $vertical-unit $horizontal-unit $vertical-unit $horizontal-unit * 2;
    border-radius: 5px;
    position: relative;

    .icon {
        position: absolute;
        top: calc(50% - 14px);
        left: $horizontal-unit / 2;
        font-size: $base-font-size * 2;
    }

    p:last-child {
        margin-bottom: 0;
    }
}

.external {
    background-color: $info-backgroundcolor;

    .icon {
        color: $info-color;
    }
}

.footnotes {
    margin-bottom: $vertical-unit;
    padding: $vertical-unit / 2 - 1 0;
    border: 1px solid $grey-color-light;
    border-left: 0;
    border-right: 0;
    color: $grey-color;
    font-size: $small-font-size;

    ol {
        margin-bottom: 0;
    }

    li p {
        margin-bottom: 0;
    }
}

.info {
    background-color: $info-backgroundcolor;

    .icon {
        color: $info-color;
    }
}

.legal {
    text-transform: uppercase;
    font-family: $mono-font-family;
}

.warn {
    background-color: $warn-backgroundcolor;

    .icon {
        color: $warn-color;
    }
}

.youtube {
    height: 0;
    margin-bottom: $vertical-unit;
    padding-top: 35px;
    position: relative;
    overflow: hidden;

    &.wide {
        padding-bottom: 56.25%
    }

    &.full {
        padding-bottom: 75%;
    }

    iframe {
        width: 100%;
        height: 100%;
        position: absolute;
        top: 0;
        left: 0;
    }
}

/* Home
 *****************************************************************************/
#home {
    max-width: $horizontal-unit * 26;
    margin: $vertical-unit $horizontal-unit * 3;

    @media screen and (min-width: $horizontal-unit * 32) {
        max-width: $horizontal-unit * 20;
        float: left;
    }
}

#latest-posts,
.featured {
    clear: both;
}

.featured > h1 {
    @include modern-type;
    margin: 0;
    padding-top: $vertical-unit / 2 - 1px;
    border-bottom: 1px solid $grey-color-light;
    font-size: $base-font-size;
}

/* Archive, Post & Page
 *****************************************************************************/
#archive,
#page,
#post {
    max-width: $horizontal-unit * 30;
    margin: $vertical-unit $horizontal-unit * 3;    

    @media screen and (min-width: $horizontal-unit * 32) {
        .category {
                width: $horizontal-unit * 2.5;
                float: left;
                padding-right: $horizontal-unit / 2;
                text-align: right;
        }
    
        h1,
        .body {
            padding: 0 $horizontal-unit * 3;
        }
    }
}

#archive .long-summary {
    margin-bottom: $vertical-unit * 2;
}

.related,
.siblings {
    width: calc(50% - #{$horizontal-unit});

    @media screen and (max-width: $horizontal-unit * 25) {
        width: 100%;
    }

    h2 {
        margin-bottom: $vertical-unit / 2;
    }

    a {
        border-bottom: 1px solid transparent;

        &:active,
        &:hover {
            border-color: $brand-color-dark;
        }
    }

    em {
        font-style: normal;
    }
}

.siblings {
    margin-bottom: $vertical-unit;
    float: right;
}

@media screen and (max-width: $horizontal-unit * 25) {
    header.masthead,
    #home,
    #post {
        margin-left: $horizontal-unit * 2;
        margin-right: $horizontal-unit * 2;
    }

    nav.site,
    footer.footer {
        padding-left: $horizontal-unit * 2;
        padding-right: $horizontal-unit * 2;
    }
}

@media screen and (max-width: $horizontal-unit * 20) {
    header.masthead,
    #home,
    #post {
        margin-left: $horizontal-unit;
        margin-right: $horizontal-unit;
    }

    nav.site,
    footer.footer {
        padding-left: $horizontal-unit;
        padding-right: $horizontal-unit;
    }
}
